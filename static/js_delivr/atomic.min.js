!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t:e.atomic=t(e)}(this,function(e){"use strict";var t={},n={contentType:"application/x-www-form-urlencoded"},r=function(e){var t;try{t=JSON.parse(e.responseText)}catch(n){t=e.responseText}return[t,e]},o=function(t,o,u){var c={success:function(){},error:function(){},always:function(){}},s=e.XMLHttpRequest||ActiveXObject,a=new s("MSXML2.XMLHTTP.3.0");a.open(t,o,!0),a.setRequestHeader("Content-type",n.contentType),a.onreadystatechange=function(){var e;4===a.readyState&&(e=r(a),a.status>=200&&a.status<300?c.success.apply(c,e):c.error.apply(c,e),c.always.apply(c,e))},a.send(u);var i={success:function(e){return c.success=e,i},error:function(e){return c.error=e,i},always:function(e){return c.always=e,i}};return i};return t.get=function(e){return o("GET",e)},t.put=function(e,t){return o("PUT",e,t)},t.post=function(e,t){return o("POST",e,t)},t["delete"]=function(e){return o("DELETE",e)},t.setContentType=function(e){n.contentType=e},t});